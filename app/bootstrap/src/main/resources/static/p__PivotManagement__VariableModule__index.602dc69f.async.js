(self.webpackChunk=self.webpackChunk||[]).push([[7959],{5966:function(Z,S,e){"use strict";var h=e(97685),n=e(1413),m=e(91),d=e(21770),V=e(23323),C=e(55241),G=e(98423),j=e(62435),x=e(10354),u=e(86074),B=["fieldProps","proFieldProps"],U=["fieldProps","proFieldProps"],P="text",c=function(i){var r=i.fieldProps,v=i.proFieldProps,E=(0,m.Z)(i,B);return(0,u.jsx)(x.Z,(0,n.Z)({valueType:P,fieldProps:r,filedConfig:{valueType:P},proFieldProps:v},E))},N=function(i){var r=(0,d.Z)(i.open||!1,{value:i.open,onChange:i.onOpenChange}),v=(0,h.Z)(r,2),E=v[0],a=v[1];return(0,u.jsx)(V.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(y){var o,p=y.getFieldValue(i.name||[]);return(0,u.jsx)(C.Z,(0,n.Z)((0,n.Z)({getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onOpenChange:function(t){return a(t)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(o=i.statusRender)===null||o===void 0?void 0:o.call(i,p),i.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:i.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},i.popoverProps),{},{open:E,children:i.children}))}})},M=function(i){var r=i.fieldProps,v=i.proFieldProps,E=(0,m.Z)(i,U),a=(0,j.useState)(!1),g=(0,h.Z)(a,2),y=g[0],o=g[1];return r!=null&&r.statusRender&&E.name?(0,u.jsx)(N,{name:E.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:y,onOpenChange:o,children:(0,u.jsx)("div",{children:(0,u.jsx)(x.Z,(0,n.Z)({valueType:"password",fieldProps:(0,n.Z)((0,n.Z)({},(0,G.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var t;r==null||(t=r.onBlur)===null||t===void 0||t.call(r,A),o(!1)},onClick:function(A){var t;r==null||(t=r.onClick)===null||t===void 0||t.call(r,A),o(!0)}}),proFieldProps:v,filedConfig:{valueType:P}},E))})}):(0,u.jsx)(x.Z,(0,n.Z)({valueType:"password",fieldProps:r,proFieldProps:v,filedConfig:{valueType:P}},E))},s=c;s.Password=M,s.displayName="ProFormComponent",S.Z=s},52078:function(Z,S,e){"use strict";var h=e(97857),n=e.n(h),m=e(27997),d=e(62435),V=e(86074),C=function(j){m.Mj.register({id:"json"});var x=j.value,u=j.onChange,B=j.editorStyle,U=B===void 0?{}:B,P=j.editorKey,c=j.readOnly,N=c===void 0?!1:c,M=(0,d.useRef)(),s=(0,d.useRef)();return(0,d.useEffect)(function(){if(M.current)return s.current?s.current.setValue(x):(s.current=m.j6.create(M.current,{value:x,language:"json",theme:"vs",readOnly:N,folding:!0,automaticLayout:!0}),s.current.onDidChangeModelContent(function(){u==null||u(s.current.getValue())})),function(){if(s!=null&&s.current){var b;s==null||(b=s.current)===null||b===void 0||b.dispose(),s.current=null}}},[]),(0,d.useEffect)(function(){s.current&&x!==s.current.getValue()&&s.current.setValue(x)},[x]),(0,V.jsx)("div",{ref:M,style:n()({height:360,borderRadius:4,overflow:"hidden"},U)},P)};S.Z=C},29297:function(Z,S,e){"use strict";e.d(S,{q9:function(){return h.Z},Wy:function(){return j},mi:function(){return U}});var h=e(52078),n=e(97857),m=e.n(n),d=e(55171),V=e.n(d),C=e(86074),G=function(c){var N=c.value,M=c.viewerStyle,s=M===void 0?{}:M,b=c.displayDataTypes,i=b===void 0?!1:b,r=c.name,v=r===void 0?"output json":r;return(0,C.jsx)(V(),{src:N,name:v,collapsed:!1,displayDataTypes:i,style:m()({height:360,padding:12,overflow:"scroll",borderRadius:4,background:"#FFF"},s)})},j=G,x=e(27997),u=e(62435),B=function(c){x.Mj.register({id:"rego"});var N=c.value,M=c.onChange,s=c.editorStyle,b=s===void 0?{}:s,i=c.editorKey,r=c.readOnly,v=r===void 0?!1:r,E=(0,u.useRef)(),a=(0,u.useRef)();return(0,u.useEffect)(function(){if(E.current)return a.current||(a.current=x.j6.create(E.current,{value:N,language:"rego",theme:"vs",readOnly:v,automaticLayout:!0}),a.current.onDidChangeModelContent(function(){M==null||M(a.current.getValue())})),function(){if(a.current){var g;(g=a.current)===null||g===void 0||g.dispose(),a.current=null}}},[]),(0,C.jsx)("div",{ref:E,style:m()({width:"100%",height:760,borderRadius:4,overflow:"hidden"},b)},i)},U=B},55541:function(Z,S,e){"use strict";e.r(S),e.d(S,{default:function(){return te}});var h=e(97857),n=e.n(h),m=e(15009),d=e.n(m),V=e(99289),C=e.n(V),G=e(5574),j=e.n(G),x=e(53846),u=e(61713),B=e(39380),U=e(70989),P=e(92016),c=e(68872),N=e(83622),M=e(96074),s=e(86738),b=e(26058),i=e(96486),r=e(62435),v=e(49677),E=e.n(v),a=e(29297),g=e(45605),y=e(37476),o=e(5966),p=e(23323),A=e(83062),t=e(86074),q=function(L){var k=c.ZP.useMessage(),X=j()(k,2),w=X[0],ne=X[1],$=p.Z.useForm(),ae=j()($,1),Q=ae[0],T=(0,P.useIntl)(),f=L.editFormVisible,O=L.globalVariableConfigInfo,_=L.setEditFormVisible,I=L.tableActionRef,R=(0,r.useState)("{}"),l=j()(R,2),D=l[0],W=l[1],K=function(Y){W(Y)},oe=function(){var F=C()(d()().mark(function Y(de){var z,ue,fe,le,ce;return d()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return z=n()(n()({},de),{},{data:D}),ue=n()({},z),O.id&&(ue.id=O.id),ie.next=5,(0,u.saveGlobalVariableConfig)(ue);case 5:fe=ie.sent,fe.msg==="success"&&(O.id?w.success(T.formatMessage({id:"common.message.text.edit.success"})):w.success(T.formatMessage({id:"common.message.text.create.success"})),_(!1),(le=I.current)===null||le===void 0||(ce=le.reloadAndRest)===null||ce===void 0||ce.call(le));case 7:case"end":return ie.stop()}},Y)}));return function(de){return F.apply(this,arguments)}}();(0,r.useEffect)(function(){if(f&&!(0,i.isEmpty)(O)&&O.id){var F=Object.assign({},(E()(O),O));Q.setFieldsValue(n()({},F)),W(O.data)}},[f,O]);var H=function(){Q.resetFields()},se=function(){_(!1),H()};return(0,t.jsxs)(t.Fragment,{children:[ne,(0,t.jsxs)(y.Y,{labelCol:{span:T.locale==="en-US"?5:4},wrapperCol:{span:T.locale==="en-US"?19:20},title:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{style:{marginRight:4},children:O.id?T.formatMessage({id:"variable.extend.title.edit"}):T.formatMessage({id:"variable.extend.title.add"})})}),width:640,form:Q,modalProps:{destroyOnClose:!0,onCancel:function(){return se()},styles:{body:{paddingTop:12}}},open:f,onFinish:oe,layout:"horizontal",children:[(0,t.jsx)(o.Z,{name:"name",label:T.formatMessage({id:"rule.module.text.variable.name"}),rules:[{required:!0}],placeholder:T.formatMessage({id:"variable.input.name.text.placeholder"})}),(0,t.jsx)(o.Z,{disabled:!!O.id,name:"path",label:T.formatMessage({id:"rule.module.text.variable.path"}),rules:[{required:!0}],placeholder:T.formatMessage({id:"variable.input.path.text.placeholder"}),fieldProps:{suffix:!!O.id&&(0,t.jsx)(A.Z,{title:T.formatMessage({id:"variable.input.path.suffix.tip"}),children:(0,t.jsx)(g.Z,{style:{color:"rgba(0, 0, 0, .45)"}})})}}),(0,t.jsx)(o.Z,{name:"data",label:T.formatMessage({id:"rule.module.text.variable.value"}),valuePropName:"data",children:(0,t.jsx)(a.q9,{value:D,onChange:K,editorStyle:{height:"420px"},editorKey:"inputEditor"})})]})]})},J=q,ee=function(){var L=(0,r.useRef)(),k=(0,r.useRef)({}),X=(0,r.useState)(!1),w=j()(X,2),ne=w[0],$=w[1],ae=c.ZP.useMessage(),Q=j()(ae,1),T=Q[0],f=(0,P.useIntl)(),O=function(){var I=C()(d()().mark(function R(l){var D,W,K;return d()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,u.deleteGlobalVariableConfig)({id:l});case 2:D=H.sent,(D.code===200||D.msg==="success")&&(T.success(f.formatMessage({id:"common.message.text.delete.success"})),(W=L.current)===null||W===void 0||(K=W.reloadAndRest)===null||K===void 0||K.call(W));case 4:case"end":return H.stop()}},R)}));return function(l){return I.apply(this,arguments)}}(),_=[{title:f.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(R,l){return(0,t.jsxs)("div",{children:[(0,t.jsx)("section",{style:{color:"#999"},children:(l==null?void 0:l.gmtCreate)||"-"}),(0,t.jsx)("section",{style:{color:"#999"},children:(l==null?void 0:l.gmtModified)||"-"})]})}},{title:f.formatMessage({id:"rule.module.text.variable.name"}),dataIndex:"name",valueType:"text",align:"left",width:240},{title:f.formatMessage({id:"rule.module.text.variable.path"}),dataIndex:"path",valueType:"text",align:"center"},{title:f.formatMessage({id:"rule.module.text.reference.rules"}),dataIndex:"ruleNameList",key:"ruleNameList",hideInSearch:!0,render:function(R,l){var D;return(0,t.jsx)(t.Fragment,{children:(0,i.isEmpty)(l==null?void 0:l.ruleNameList)?"-":(0,t.jsx)("ul",{style:{paddingInlineStart:16},children:(D=l.ruleNameList)===null||D===void 0?void 0:D.map(function(W,K){return(0,t.jsx)("li",{children:W},K)})})})}},{title:f.formatMessage({id:"rule.input.text.rule.group.creator"}),dataIndex:"username",valueType:"text",align:"left",width:200,hideInSearch:!0},{title:f.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",render:function(R,l){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.ZP,{size:"small",type:"link",onClick:function(){$(!0),k.current=n()({},l)},children:f.formatMessage({id:"common.button.text.edit"})}),(0,t.jsx)(M.Z,{type:"vertical"}),(0,t.jsx)(s.Z,{title:f.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return O(l.id)},okText:f.formatMessage({id:"common.button.text.ok"}),cancelText:f.formatMessage({id:"common.button.text.cancel"}),children:(0,t.jsx)(N.ZP,{type:"link",danger:!0,size:"small",children:f.formatMessage({id:"common.button.text.delete"})})})]})}}];return(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(B._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:(0,t.jsx)(U.Z,{headerTitle:(0,t.jsx)("div",{className:x.Z.customTitle,children:f.formatMessage({id:"variable.module.text.variable.inquiry"})}),actionRef:L,rowKey:"id",search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},request:function(){var I=C()(d()().mark(function R(l){var D,W,K,oe,H,se,F,Y;return d()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return D=l.name,W=l.path,K=l.current,oe=l.pageSize,H={name:D,path:W,page:K,size:oe},z.next=4,(0,u.listGlobalVariableConfig)(H);case 4:return se=z.sent,F=se.content,Y=se.code,z.abrupt("return",{data:(F==null?void 0:F.data)||[],total:(F==null?void 0:F.total)||0,success:Y===200||!1});case 8:case"end":return z.stop()}},R)}));return function(R){return I.apply(this,arguments)}}(),columns:_,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},options:!1,toolBarRender:function(){return[(0,t.jsx)(N.ZP,{type:"primary",onClick:function(){$(!0),k.current={}},children:f.formatMessage({id:"variable.extend.text.add"})},"create"),(0,t.jsx)(N.ZP,{href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/ty6iu889dp3dgiws",target:"_blank",style:{border:"1px solid #457aff",color:"#457aff",padding:"4px 10px",backgroundColor:"transparent"},children:f.formatMessage({id:"variable.extend.text.config"})},"config")]}})}),(0,t.jsx)(J,{editFormVisible:ne,setEditFormVisible:$,globalVariableConfigInfo:k.current,tableActionRef:L})]})},te=ee},53846:function(Z,S){"use strict";S.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},26058:function(Z,S,e){"use strict";e.d(S,{Z:function(){return E}});var h=e(74902),n=e(62435),m=e(93967),d=e.n(m),V=e(98423),C=e(53124),G=e(82401),j=e(50344),x=e(23342);function u(a,g,y){return typeof y=="boolean"?y:a.length?!0:(0,j.Z)(g).some(p=>p.type===x.Z)}var B=e(24793),U=function(a,g){var y={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&g.indexOf(o)<0&&(y[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,o=Object.getOwnPropertySymbols(a);p<o.length;p++)g.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(a,o[p])&&(y[o[p]]=a[o[p]]);return y};function P({suffixCls:a,tagName:g,displayName:y}){return o=>n.forwardRef((A,t)=>n.createElement(o,Object.assign({ref:t,suffixCls:a,tagName:g},A)))}const c=n.forwardRef((a,g)=>{const{prefixCls:y,suffixCls:o,className:p,tagName:A}=a,t=U(a,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:q}=n.useContext(C.E_),J=q("layout",y),[ee,te,re]=(0,B.ZP)(J),L=o?`${J}-${o}`:J;return ee(n.createElement(A,Object.assign({className:d()(y||L,p,te,re),ref:g},t)))}),N=n.forwardRef((a,g)=>{const{direction:y}=n.useContext(C.E_),[o,p]=n.useState([]),{prefixCls:A,className:t,rootClassName:q,children:J,hasSider:ee,tagName:te,style:re}=a,L=U(a,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),k=(0,V.Z)(L,["suffixCls"]),{getPrefixCls:X,className:w,style:ne}=(0,C.dj)("layout"),$=X("layout",A),ae=u(o,J,ee),[Q,T,f]=(0,B.ZP)($),O=d()($,{[`${$}-has-sider`]:ae,[`${$}-rtl`]:y==="rtl"},w,t,q,T,f),_=n.useMemo(()=>({siderHook:{addSider:I=>{p(R=>[].concat((0,h.Z)(R),[I]))},removeSider:I=>{p(R=>R.filter(l=>l!==I))}}}),[]);return Q(n.createElement(G.V.Provider,{value:_},n.createElement(te,Object.assign({ref:g,className:O,style:Object.assign(Object.assign({},ne),re)},k),J)))}),M=P({tagName:"div",displayName:"Layout"})(N),s=P({suffixCls:"header",tagName:"header",displayName:"Header"})(c),b=P({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(c),i=P({suffixCls:"content",tagName:"main",displayName:"Content"})(c);var r=M;const v=r;v.Header=s,v.Footer=b,v.Content=i,v.Sider=x.Z,v._InternalSiderContext=x.D;var E=v},85674:function(Z,S,e){var h={"./simpleWorker":18352,"./simpleWorker.js":18352};function n(m){return Promise.resolve().then(function(){if(!e.o(h,m)){var d=new Error("Cannot find module '"+m+"'");throw d.code="MODULE_NOT_FOUND",d}var V=h[m];return e(V)})}n.keys=function(){return Object.keys(h)},n.id=85674,Z.exports=n},10131:function(Z,S,e){var h={"./editorBaseApi":[20927],"./editorBaseApi.js":[20927],"./editorSimpleWorker":[81465],"./editorSimpleWorker.js":[81465],"./editorWorker":[85215],"./editorWorker.js":[85215],"./editorWorkerHost":[98008],"./editorWorkerHost.js":[98008],"./findSectionHeaders":[72846],"./findSectionHeaders.js":[72846],"./getIconClasses":[22016],"./getIconClasses.js":[22016],"./languageFeatureDebounce":[88191],"./languageFeatureDebounce.js":[88191],"./languageFeatures":[71922],"./languageFeatures.js":[71922],"./languageFeaturesService":[7421],"./languageFeaturesService.js":[7421],"./languageService":[81032],"./languageService.js":[81032],"./languagesAssociations":[73536],"./languagesAssociations.js":[73536],"./languagesRegistry":[4765],"./languagesRegistry.js":[4765],"./markerDecorations":[36357],"./markerDecorations.js":[36357],"./markerDecorationsService":[86036],"./markerDecorationsService.js":[86036],"./model":[73733],"./model.js":[73733],"./modelService":[51200],"./modelService.js":[51200],"./resolverService":[88216],"./resolverService.js":[88216],"./semanticTokensDto":[14704],"./semanticTokensDto.js":[14704],"./semanticTokensProviderStyling":[92294],"./semanticTokensProviderStyling.js":[92294],"./semanticTokensStyling":[73343],"./semanticTokensStyling.js":[73343],"./semanticTokensStylingService":[84146],"./semanticTokensStylingService.js":[84146],"./textModelSync/textModelSync.impl":[28944],"./textModelSync/textModelSync.impl.js":[28944],"./textModelSync/textModelSync.protocol":[23145,3145],"./textModelSync/textModelSync.protocol.js":[23145,3145],"./textResourceConfiguration":[71765],"./textResourceConfiguration.js":[71765],"./treeSitterParserService":[28922],"./treeSitterParserService.js":[28922],"./treeViewsDnd":[80642],"./treeViewsDnd.js":[80642],"./treeViewsDndService":[58345],"./treeViewsDndService.js":[58345],"./unicodeTextModelHighlighter":[31446],"./unicodeTextModelHighlighter.js":[31446]};function n(m){if(!e.o(h,m))return Promise.resolve().then(function(){var C=new Error("Cannot find module '"+m+"'");throw C.code="MODULE_NOT_FOUND",C});var d=h[m],V=d[0];return Promise.all(d.slice(1).map(e.e)).then(function(){return e(V)})}n.keys=function(){return Object.keys(h)},n.id=10131,Z.exports=n},49677:function(Z){function S(e){if(e==null)throw new TypeError("Cannot destructure "+e)}Z.exports=S,Z.exports.__esModule=!0,Z.exports.default=Z.exports}}]);
