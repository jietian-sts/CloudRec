"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3231],{8751:function(q,T,t){t.d(T,{Z:function(){return p}});var V=t(87462),A=t(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},k=P,z=t(84089),h=function(O,b){return A.createElement(z.Z,(0,V.Z)({},O,{ref:b,icon:k}))},L=A.forwardRef(h),p=L},18429:function(q,T,t){t.d(T,{Z:function(){return p}});var V=t(87462),A=t(62435),P={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},k=P,z=t(84089),h=function(O,b){return A.createElement(z.Z,(0,V.Z)({},O,{ref:b,icon:k}))},L=A.forwardRef(h),p=L},56477:function(q,T,t){t.d(T,{Z:function(){return p}});var V=t(87462),A=t(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"},k=P,z=t(84089),h=function(O,b){return A.createElement(z.Z,(0,V.Z)({},O,{ref:b,icon:k}))},L=A.forwardRef(h),p=L},61011:function(q,T,t){t.d(T,{Z:function(){return p}});var V=t(87462),A=t(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M666.7 505.5l-246-178A8 8 0 00408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"right-circle",theme:"outlined"},k=P,z=t(84089),h=function(O,b){return A.createElement(z.Z,(0,V.Z)({},O,{ref:b,icon:k}))},L=A.forwardRef(h),p=L},28058:function(q,T,t){t.d(T,{Z:function(){return p}});var V=t(87462),A=t(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},k=P,z=t(84089),h=function(O,b){return A.createElement(z.Z,(0,V.Z)({},O,{ref:b,icon:k}))},L=A.forwardRef(h),p=L},3859:function(q,T,t){var V=t(97857),A=t.n(V),P=t(66309),k=t(62435),z=t(53846),h=t(86074);T.Z=function(L){var p,Y=L.text,O=L.style,b=L.level;return(0,h.jsx)(P.Z,{className:z.Z[b==="HIGH"?"riskHigh":(p=["MEDIUM","MIDDLE"])!==null&&p!==void 0&&p.includes(b)?"riskMedium":b==="LOW"?"riskLow":""],style:A()({},O),children:Y})}},92834:function(q,T,t){t.r(T),t.d(T,{default:function(){return ht}});var V=t(15009),A=t.n(V),P=t(99289),k=t.n(P),z=t(97857),h=t.n(z),L=t(5574),p=t.n(L),Y=t(81569),O=t(3859),b=t(31732),ze=t(53846),Te=t(24163),oe=t(21171),re=t(29448),we=t(45742),ue=t(93410),F=t(92016),he=t(25593),pe=t(85265),We=t(83062),Ke=t(86250),He=t(92398),I=t(62435),M=t(24732),Se=t(29297),C=t(96486),e=t(86074),$e=function(g){var n=g.assetInstanceVisible,c=g.assetInfo,m=g.setAssetInstanceVisible,v=(0,I.useState)(""),i=p()(v,2),u=i[0],E=i[1],B=(0,F.useIntl)(),Q=function(){m(!1),E("")},R=function(){Q()};return(0,I.useEffect)(function(){if(n&&!(0,C.isEmpty)(c)){var j=JSON.stringify(c==null?void 0:c.instance,null,4);(0,C.isEmpty)(j)||E(j)}},[n]),(0,e.jsx)(pe.Z,{title:B.formatMessage({id:"asset.extend.text.detail"}),width:"42%",destroyOnClose:!0,open:n,onClose:R,children:!(0,C.isEmpty)(u)&&(0,e.jsx)(Se.q9,{editorKey:"assetInstance",value:u,readOnly:!0,editorStyle:{height:"100%"}})})},Qe=$e,Ue=t(57207),xe=t(96364),Ge=t(72028),ae=t(17910),Le=t(90498),ge=t(66309),_=t(83622),Je=function(g){var n=g.assetInfo,c=(0,I.useRef)(),m=(0,I.useRef)(),v=(0,I.useState)(!1),i=p()(v,2),u=i[0],E=i[1],B=(0,I.useRef)({}),Q=[{title:"\u8D44\u6E90\u540D\u79F0",dataIndex:"resourceName",valueType:"text",align:"center",render:function(j,l){return(0,e.jsx)(Te.Z,{text:l!=null&&l.resourceExist?l.resourceName:"(\u4E0D\u5B58\u5728) "+l.resourceName,maxWidth:280})}},{title:"\u8D44\u6E90\u7C7B\u578B",dataIndex:"resourceType",valueType:"text",align:"center",render:function(j,l){return(0,e.jsx)(ge.Z,{color:"geekblue",children:l==null?void 0:l.resourceType})}},{title:"\u89C4\u5219\u540D\u79F0",dataIndex:"ruleName",valueType:"text",align:"center",render:function(j,l){var r;return(0,e.jsx)("span",{children:l==null||(r=l.ruleVO)===null||r===void 0?void 0:r.ruleName})}},{title:"\u89C4\u5219\u7EC4",dataIndex:"groupName",valueType:"text",align:"center",render:function(j,l){var r;return(0,e.jsx)("span",{children:l==null||(r=l.ruleVO)===null||r===void 0?void 0:r.groupName})}},{title:"\u98CE\u9669\u7B49\u7EA7",dataIndex:"riskLevel",valueType:"text",align:"center",render:function(j,l){var r=ae.I9===null||ae.I9===void 0?void 0:ae.I9.find(function(d){var N;return d.value===(l==null||(N=l.ruleVO)===null||N===void 0?void 0:N.riskLevel)});return(0,e.jsx)(ge.Z,{color:r==null?void 0:r.color,children:(r==null?void 0:r.text)||"-"})}},{title:"\u98CE\u9669\u72B6\u6001",dataIndex:"status",valueType:"text",align:"center",render:function(j,l){var r=xe.MW===null||xe.MW===void 0?void 0:xe.MW.find(function(d){return d.value===(l==null?void 0:l.status)});return(0,e.jsx)(ge.Z,{color:r==null?void 0:r.color,children:(r==null?void 0:r.label)||"-"})}},{title:"\u6700\u8FD1\u626B\u63CF\u547D\u4E2D",dataIndex:"gmtModified",valueType:"text",align:"center"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",align:"center",render:function(j,l){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(_.ZP,{type:"link",onClick:function(){B.current=h()({},l),E(!0)},children:"\u8BE6\u60C5"})})}}];return(0,e.jsxs)(ue.Z,{boxShadow:!0,bodyStyle:{padding:"32px 4px 12px 4px"},children:[(0,e.jsx)(Le.Z,{tableStyle:{padding:0},scroll:{x:"max-content"},rowKey:"id",search:!1,options:!1,actionRef:c,formRef:m,columns:Q,request:function(){var R=k()(A()().mark(function j(l){var r,d,N,X,Z,o,te,W,se;return A()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return r=l.pageSize,d=l.current,N=l.cloudAccountId,X=l.resourceId,Z=l.platform,o={page:d,size:r,cloudAccountId:N,resourceId:X,platformList:[Z]},U.next=4,(0,Ge.queryRiskList)(o);case 4:return te=U.sent,W=te.content,se=te.code,U.abrupt("return",{data:(W==null?void 0:W.data)||[],total:(W==null?void 0:W.total)||0,success:se===200||!1});case 8:case"end":return U.stop()}},j)}));return function(j){return R.apply(this,arguments)}}(),params:h()({},n),pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1,showTotal:function(j){return"\u5171 ".concat(j," \u6761")}}}),(0,e.jsx)(Ue.Z,{locate:"asset",riskDrawerVisible:u,setRiskDrawerVisible:E,riskDrawerInfo:B.current,tableActionRef:c})]})},Xe=Je,de=t(32983),w=t(23323),Oe=he.Z.Text,Ye=function(g){var n=(0,F.useAccess)(),c=n.isAdmin,m=g.assetInfo;return(0,e.jsx)("div",{children:c?(0,e.jsx)(_.ZP,{type:"link",size:"small",href:"/assetManagement/asseConfig?id=".concat(m==null?void 0:m.id),target:"_blank",children:"\u914D\u7F6E\u8BE6\u60C5"}):(0,e.jsx)(e.Fragment,{})})},qe=function(g){var n,c,m,v,i=g.assetInfo;return(0,e.jsx)(ue.Z,{boxShadow:!0,extra:(0,e.jsx)(Ye,{assetInfo:i}),bodyStyle:{paddingBlockStart:0},children:(0,C.isEmpty)(i==null||(n=i.resourceDetailConfigMap)===null||n===void 0?void 0:n.BASE_INFO)&&(0,C.isEmpty)(i==null||(c=i.resourceDetailConfigMap)===null||c===void 0?void 0:c.NETWORK)?(0,e.jsx)(de.Z,{image:de.Z.PRESENTED_IMAGE_SIMPLE}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Oe,{style:{marginBottom:6,display:"block",color:"#377df7"},children:"\u57FA\u672C\u4FE1\u606F:"}),i==null||(m=i.resourceDetailConfigMap)===null||m===void 0||(m=m.BASE_INFO)===null||m===void 0?void 0:m.map(function(u,E){return(0,e.jsx)(w.Z.Item,{label:u==null?void 0:u.name,children:u.value},E)}),(0,e.jsx)(Oe,{style:{marginBottom:6,display:"block",color:"#377df7"},children:"\u7F51\u7EDC\u4FE1\u606F:"}),i==null||(v=i.resourceDetailConfigMap)===null||v===void 0||(v=v.NETWORK)===null||v===void 0?void 0:v.map(function(u,E){return(0,e.jsx)(w.Z.Item,{label:u==null?void 0:u.name,children:u.value},E)})]})})},_e=qe,ce=he.Z.Text,et=function(g){var n,c=g.assetDrawerVisible,m=g.assetDrawerInfo,v=g.setAssetDrawerVisible,i=(0,F.useModel)("rule"),u=i.platformList,E=(0,F.useModel)("asset"),B=E.assetList,Q=(0,I.useState)(!1),R=p()(Q,2),j=R[0],l=R[1],r=(0,F.useRequest)(function(G){return(0,oe.queryResourceDetailById)({id:G})},{manual:!0,formatResult:function(ne){return ne.content||{}}}),d=r.data,N=r.run,X=r.loading,Z=(0,I.useState)("BasicAsset"),o=p()(Z,2),te=o[0],W=o[1],se=[{key:"BasicAsset",label:"\u8D44\u4EA7\u4FE1\u606F",children:(0,e.jsx)(_e,{assetInfo:d})},{key:"AssociateRisk",label:"\u98CE\u9669\u4FE1\u606F",children:(0,e.jsx)(Xe,{assetInfo:d})}],ve=function(ne){W(ne)},U=function(){v(!1),W("BasicAsset")},fe=function(){U()};return(0,I.useEffect)(function(){c&&m!==null&&m!==void 0&&m.id&&N(m.id)},[c,m]),(0,e.jsxs)(pe.Z,{title:"\u8D44\u4EA7\u8BE6\u60C5",width:"50%",open:c,onClose:fe,loading:X,children:[(0,e.jsxs)(ue.Z,{boxShadow:!0,style:{marginBottom:16},bodyStyle:{paddingBlock:6},children:[(0,e.jsxs)(ce,{className:M.Z.customText,children:["\u8D44\u6E90\u540D\u79F0: ",(d==null?void 0:d.resourceName)||"-"]}),(0,e.jsxs)(ce,{className:M.Z.customText,children:["\u8D44\u6E90id: ",(d==null?void 0:d.resourceId)||"-",(0,e.jsx)(We.Z,{title:"\u8D44\u6E90\u8BE6\u60C5",children:(0,e.jsx)("span",{className:M.Z.iconWrap,onClick:function(){return l(!0)},children:(0,e.jsx)(we.Z,{className:M.Z.resourceInstance})})})]}),(0,e.jsx)(ce,{className:M.Z.customText,children:(0,e.jsxs)(Ke.Z,{children:["\u4E91\u670D\u52A1:",(0,e.jsx)("span",{style:{margin:"0 12px 0 6px"},children:(0,re.fD)(d==null?void 0:d.platform,u)}),(0,e.jsx)("span",{children:d==null?void 0:d.platform})]})}),(0,e.jsxs)(ce,{className:M.Z.customText,children:["\u8D44\u6E90\u7C7B\u578B:",(0,e.jsx)("span",{style:{color:"#0958d9",marginLeft:"4px"},children:(B==null||(n=B.find(function(G){return G.value===(d==null?void 0:d.resourceType)}))===null||n===void 0?void 0:n.label)||"-"})]})]}),(0,e.jsx)(He.Z,{activeKey:te,items:se,onChange:ve,destroyInactiveTabPane:!0}),(0,e.jsx)(Qe,{assetInstanceVisible:j,setAssetInstanceVisible:l,assetInfo:d})]})},tt=et,at=function(g){var n=g.assetInformVisible,c=g.assetInfo,m=g.setAssetInformVisible,v=(0,I.useState)(""),i=p()(v,2),u=i[0],E=i[1],B=(0,F.useIntl)(),Q=function(){m(!1)},R=(0,F.useRequest)(function(r){return(0,oe.queryResourceDetailById)({id:r})},{manual:!0,formatResult:function(d){var N=d.content,X=JSON.stringify(N==null?void 0:N.instance,null,4);(0,C.isEmpty)(X)||E(X)}}),j=R.run,l=R.loading;return(0,I.useEffect)(function(){n&&c!==null&&c!==void 0&&c.id&&j(Number(c.id))},[n,c]),(0,e.jsx)(pe.Z,{title:B.formatMessage({id:"asset.extend.text.detail"}),width:"46%",open:n,onClose:Q,destroyOnClose:!0,loading:l,children:u&&(0,e.jsx)(Se.q9,{editorKey:"ASSET_CONFIG_INSTANCE",value:u,readOnly:!0,editorStyle:{height:"100%"}})})},st=at,nt=t(96987),be=t(92635),lt=t(79930),rt=t(86548),it=t(39380),ot=t(42075),Be=t(3303),me=t(71230),D=t(15746),ut=t(84567),dt=t(34041),ct=t(57381),Fe=t(25278),mt=t(21532),ie=he.Z.Paragraph,$={formItem:{marginBottom:0,color:"#999",fontSize:"12px"},paragraph:{marginBottom:0,fontSize:"12px",color:"#999"},paragraphTable:{maxWidth:"300px"},paragraphExpanded:{maxWidth:"500px"}},vt=function(g){var n=g.record,c=(0,F.useIntl)(),m=(0,F.useRequest)(function(u){return(0,oe.queryResourceRiskQuantity)({idList:[u]})},{manual:!0,formatResult:function(E){return E.content[0]}}),v=m.data,i=m.run;return(0,I.useEffect)(function(){n!=null&&n.id&&i(Number(n.id))},[n]),(0,e.jsxs)(ot.Z,{size:2,children:[(0,e.jsx)(_.ZP,{type:"link",style:{padding:0},size:"small",target:"_blank",href:"/riskManagement/riskList?platform=".concat(n==null?void 0:n.platform,"&riskLevel=").concat(ae.I9[0].value,"&resourceId=").concat(n==null?void 0:n.resourceId),rel:"prefetch",children:(0,e.jsx)(O.Z,{level:"HIGH",text:"".concat(c.formatMessage({id:"common.link.text.high"})," ").concat((v==null?void 0:v.highLevelRiskCount)||0)})}),(0,e.jsx)(_.ZP,{type:"link",style:{padding:0},size:"small",target:"_blank",href:"/riskManagement/riskList?platform=".concat(n==null?void 0:n.platform,"&riskLevel=").concat(ae.I9[1].value,"&resourceId=").concat(n==null?void 0:n.resourceId),rel:"prefetch",children:(0,e.jsx)(O.Z,{level:"MEDIUM",text:"".concat(c.formatMessage({id:"common.link.text.middle"})," ").concat((v==null?void 0:v.mediumLevelRiskCount)||0)})}),(0,e.jsx)(_.ZP,{type:"link",style:{padding:0},size:"small",target:"_blank",href:"/riskManagement/riskList?platform=".concat(n==null?void 0:n.platform,"&riskLevel=").concat(ae.I9[2].value,"&resourceId=").concat(n==null?void 0:n.resourceId),rel:"prefetch",children:(0,e.jsx)(O.Z,{level:"LOW",text:"".concat(c.formatMessage({id:"common.link.text.low"}),"  ").concat((v==null?void 0:v.lowLevelRiskCount)||0)})})]})},ft=function(){var g,n=Be.Z.SHOW_CHILD,c=(0,F.useModel)("rule"),m=c.platformList,v=new URLSearchParams((g=(0,F.useLocation)())===null||g===void 0?void 0:g.search),i=v.get("cloudAccountId"),u=v.get("platform"),E=v.get("resourceGroupType"),B=v.get("resourceType"),Q=(0,I.useRef)(),R=(0,I.useRef)(),j=(0,I.useState)(!1),l=p()(j,2),r=l[0],d=l[1],N=w.Z.useForm(),X=p()(N,1),Z=X[0],o=(0,F.useIntl)(),te=(0,I.useState)(!1),W=p()(te,2),se=W[0],ve=W[1],U=(0,I.useRef)({}),fe=(0,I.useRef)({}),G=(0,I.useState)([]),ne=p()(G,2),pt=ne[0],ye=ne[1],xt=(0,I.useState)({customField:{show:!1},cloudAccountId:{show:!1},platform:{show:!1},address:{show:!1},tenantName:{show:!1}}),gt=p()(xt,1),yt=gt[0],It=(0,F.useRequest)(function(x){return(0,lt.queryGroupTypeList)({platformList:x})},{manual:!0,formatResult:function(s){var a=s.content;ye(a||[])}}),Ne=It.run,Ct=[{title:(0,e.jsxs)(e.Fragment,{children:[o.formatMessage({id:"common.table.columns.assetId"}),"\xA0\xA0|\xA0\xA0",o.formatMessage({id:"common.table.columns.assetName"})]}),dataIndex:"resourceId",valueType:"text",align:"left",hideInSearch:!0,render:function(s,a){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_.ZP,{style:{padding:0},size:"small",type:"link",onClick:function(){fe.current=h()({},a),d(!0)},children:(0,e.jsx)(ie,{copyable:!0,style:{color:"inherit",marginBottom:0},children:a.resourceId})}),(0,e.jsx)(Te.Z,{placement:"topLeft",text:a.resourceName,maxWidth:360,style:{color:"#333"}})]})}},{title:o.formatMessage({id:"cloudAccount.extend.title.asset.type"}),dataIndex:"resourceType",valueType:"text",align:"left",width:200,hideInSearch:!0,render:function(s,a){return(0,e.jsx)(b.Z,{text:a==null?void 0:a.resourceType})}},{title:o.formatMessage({id:"asset.module.risk.number"}),width:200,dataIndex:"rulePassRate",valueType:"text",align:"left",hideInSearch:!0,render:function(s,a){return(0,e.jsx)(vt,{record:a})}},{title:o.formatMessage({id:"common.input.text.custom.fields"}),dataIndex:"customFieldValue",valueType:"text",align:"left",width:500,render:function(s,a){var K,H,S,y;return(0,e.jsx)("div",{style:{maxHeight:"120px",overflow:"auto"},children:(0,e.jsx)(me.Z,{children:(0,e.jsx)(D.Z,{span:24,children:(0,C.isEmpty)(a==null||(K=a.resourceDetailConfigMap)===null||K===void 0?void 0:K.BASE_INFO)&&(0,C.isEmpty)(a==null||(H=a.resourceDetailConfigMap)===null||H===void 0?void 0:H.NETWORK)?"-":(0,e.jsxs)(e.Fragment,{children:[a==null||(S=a.resourceDetailConfigMap)===null||S===void 0||(S=S.BASE_INFO)===null||S===void 0?void 0:S.map(function(f,J){return(0,e.jsx)(w.Z.Item,{label:f==null?void 0:f.name,style:$.formItem,children:(0,e.jsx)(ie,{copyable:{text:f.value},style:h()(h()({},$.paragraph),$.paragraphTable),ellipsis:{tooltip:f.value},children:f.value})},J)}),a==null||(y=a.resourceDetailConfigMap)===null||y===void 0||(y=y.NETWORK)===null||y===void 0?void 0:y.map(function(f,J){return(0,e.jsx)(w.Z.Item,{label:f==null?void 0:f.name,style:$.formItem,children:(0,e.jsx)(ie,{copyable:{text:f.value},style:h()(h()({},$.paragraph),$.paragraphTable),ellipsis:{tooltip:f.value},children:f.value})},J)})]})})})})}},{title:o.formatMessage({id:"common.table.columns.createAndUpdateTime"}),dataIndex:"gmt_modified",tooltip:o.formatMessage({id:"common.table.columns.sort.update"}),valueType:"text",align:"left",hideInSearch:!0,sorter:!0,width:240,render:function(s,a){return(0,e.jsxs)("div",{children:[(0,e.jsx)("section",{style:{color:"#999"},children:(a==null?void 0:a.gmtCreate)||"-"}),(0,e.jsx)("section",{style:{color:"#999"},children:(a==null?void 0:a.gmtModified)||"-"})]})}},{title:o.formatMessage({id:"common.select.label.cloudAccount"}),dataIndex:"cloudAccountId",valueType:"text",align:"left",hideInSearch:!0,render:function(s,a){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:a==null?void 0:a.cloudAccountId}),(0,e.jsx)("div",{style:{color:"#999"},children:a==null?void 0:a.alias})]})}},{title:o.formatMessage({id:"common.select.label.cloudPlatform"}),dataIndex:"platform",valueType:"text",align:"center",hideInSearch:!0,render:function(s,a){return(0,re.fD)(a.platform,m)}},{title:o.formatMessage({id:"asset.module.input.text.ip"}),dataIndex:"address",valueType:"text",align:"left",hideInSearch:!0},{title:o.formatMessage({id:"common.select.label.tenant"}),dataIndex:"tenantName",valueType:"text",align:"left",hideInSearch:!0}],Ie=(0,F.useRequest)(function(x){return(0,be.cloudAccountBaseInfoList)(h()({},x))},{manual:!0,formatResult:function(s){if(s.msg==="success"){var a;return(s==null||(a=s.content)===null||a===void 0||(a=a.accountAliasList)===null||a===void 0?void 0:a.map(function(K){return{label:K,value:K}}))||[]}}}),jt=Ie.data,Ce=Ie.run,Zt=Ie.loading,At=(0,I.useMemo)(function(){var x=function(a){Ce({platformList:Z.getFieldValue("platformList")||[],cloudAccountSearch:a})};return(0,C.debounce)(x,500)},[be.cloudAccountBaseInfoList]);return(0,I.useEffect)(function(){var x={};if(u&&(x.platformList=[u]),i&&(x.cloudAccountSearch=i),Ce(x),(!(0,C.isEmpty)(i)||!(0,C.isEmpty)(u)||!(0,C.isEmpty)(E)&&!(0,C.isEmpty)(B))&&(i&&(Z==null||Z.setFieldValue("cloudAccountId",i)),!(0,C.isEmpty)(u)&&(Z==null||Z.setFieldValue("platformList",[u]),Z.setFieldValue("resourceTypeList",null),ye([]),Ne([u]),!(0,C.isEmpty)(E)&&!(0,C.isEmpty)(B)))){var s=[],a=[E,B];s.push(a),Z.setFieldValue("resourceTypeList",s)}},[u,i,B]),(0,e.jsxs)(it._z,{title:!1,className:M.Z.assetPageContainer,breadcrumb:void 0,children:[(0,e.jsx)(ue.Z,{bodyStyle:{paddingBottom:0},className:M.Z.customFilterCard,children:(0,e.jsx)(w.Z,{form:Z,children:(0,e.jsxs)(me.Z,{gutter:[24,10],children:[(0,e.jsx)(D.Z,{span:24,children:(0,e.jsx)(w.Z.Item,{name:"platformList",label:o.formatMessage({id:"common.select.label.cloudPlatform"}),style:{marginBottom:0},children:(0,e.jsx)(ut.Z.Group,{options:(0,re.T$)(m),onChange:function(s){Z.setFieldValue("resourceTypeList",null),ye([]),Ne(s),Ce({platformList:s||[]})}})})}),(0,e.jsx)(D.Z,{span:6,children:(0,e.jsx)(w.Z.Item,{name:"resourceTypeList",label:o.formatMessage({id:"cloudAccount.extend.title.asset.type"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(Be.Z,{options:pt,multiple:!0,placeholder:o.formatMessage({id:"common.select.text.placeholder"}),showCheckedStrategy:n,allowClear:!0,showSearch:!0})})}),(0,e.jsx)(D.Z,{span:6,children:(0,e.jsx)(w.Z.Item,{name:"cloudAccountId",label:o.formatMessage({id:"common.select.label.cloudAccount"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(dt.Z,{allowClear:!0,showSearch:!0,placeholder:o.formatMessage({id:"common.select.query.text.placeholder"}),notFoundContent:Zt&&(0,e.jsx)(ct.Z,{size:"small"}),onSearch:At,options:jt||[]})})}),(0,e.jsx)(D.Z,{span:6,children:(0,e.jsx)(w.Z.Item,{name:"searchParam",label:o.formatMessage({id:"common.input.text.assetIdAndName"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(Fe.Z,{placeholder:o.formatMessage({id:"common.input.text.placeholder"}),allowClear:!0})})}),(0,e.jsx)(D.Z,{span:6,children:(0,e.jsx)(w.Z.Item,{name:"address",label:o.formatMessage({id:"asset.module.input.text.ip"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(Fe.Z,{placeholder:o.formatMessage({id:"common.input.text.placeholder"}),allowClear:!0})})})]})})}),(0,e.jsx)(Le.Z,{scroll:{x:"max-content"},rowKey:"id",search:{span:6,labelWidth:0},headerTitle:(0,e.jsx)("div",{className:ze.Z.customTitle,children:o.formatMessage({id:"asset.module.text.asset.inquiry"})}),actionRef:Q,formRef:R,columns:Ct,columnsState:{defaultValue:yt,persistenceType:"localStorage",persistenceKey:"ASSET_TABLE_LIST_CACHE"},onReset:function(){var s;Z.resetFields(),(s=R.current)===null||s===void 0||s.resetFields()},pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1,pageSizeOptions:[10,20,50]},request:function(){var x=k()(A()().mark(function s(a,K){var H,S,y,f,J,je,Ze,Ae,Re,Me,Ee,De,Ve,Pe,ke;return A()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return H=a.customFieldValue,S=a.current,y=a.pageSize,f={customFieldValue:H,page:S,size:y},J=(0,re.Hm)(K),(0,C.isEmpty)(J)||(f.sortParam=J==null?void 0:J.key,f.sortType=nt.ym[J.value]),je=Z.getFieldValue("platformList"),(0,C.isEmpty)(je)||(f.platformList=je),Ze=Z.getFieldValue("resourceTypeList"),(0,C.isEmpty)(Ze)||(f.resourceTypeList=Ze),Ae=Z.getFieldValue("cloudAccountId"),(0,C.isEmpty)(Ae)||(f.cloudAccountId=Ae),Re=Z.getFieldValue("searchParam"),Re&&(f.searchParam=Re),Me=Z.getFieldValue("address"),Me&&(f.address=Me),le.next=16,(0,oe.queryResourceList)(f);case 16:return Ee=le.sent,De=Ee.content,Ve=Ee.code,Pe=De.data,ke=De.total,le.abrupt("return",{data:Pe||[],total:ke||0,success:Ve===200||!1});case 21:case"end":return le.stop()}},s)}));return function(s,a){return x.apply(this,arguments)}}(),tableClassName:M.Z.customAssetTable,expandable:{expandedRowRender:function(s){var a,K,H,S;return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(D.Z,{span:2,className:M.Z.dimBlock,style:{borderLeft:"0.5px solid rgb(239, 239, 239)"},children:o.formatMessage({id:"common.select.label.cloudAccount"})}),(0,e.jsxs)(D.Z,{span:4,className:M.Z.cleanBlock,style:{flexDirection:"column"},children:[(0,e.jsx)("div",{children:s==null?void 0:s.cloudAccountId}),(0,e.jsx)("div",{style:{color:"#999"},children:s==null?void 0:s.alias})]}),(0,e.jsx)(D.Z,{span:2,className:M.Z.dimBlock,children:o.formatMessage({id:"common.select.label.cloudPlatform"})}),(0,e.jsx)(D.Z,{span:4,className:M.Z.cleanBlock,children:(0,re.fD)(s.platform,m)}),(0,e.jsx)(D.Z,{span:2,className:M.Z.dimBlock,children:o.formatMessage({id:"asset.module.input.text.ip"})}),(0,e.jsx)(D.Z,{span:4,className:M.Z.cleanBlock,children:(s==null?void 0:s.address)||"-"}),(0,e.jsx)(D.Z,{span:2,className:M.Z.dimBlock,children:o.formatMessage({id:"common.select.label.tenant"})}),(0,e.jsx)(D.Z,{span:4,className:M.Z.cleanBlock,children:(s==null?void 0:s.tenantName)||"-"}),(0,e.jsx)(D.Z,{span:2,className:M.Z.dimBlock,style:{borderTop:"none",borderLeft:"0.5px solid rgb(239, 239, 239)"},children:o.formatMessage({id:"common.input.text.custom.fields"})}),(0,e.jsx)(D.Z,{span:22,className:M.Z.customField,style:{borderTop:"none"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(D.Z,{span:22,style:{maxHeight:"200px",overflow:"auto"},children:(0,C.isEmpty)(s==null||(a=s.resourceDetailConfigMap)===null||a===void 0?void 0:a.BASE_INFO)&&(0,C.isEmpty)(s==null||(K=s.resourceDetailConfigMap)===null||K===void 0?void 0:K.NETWORK)?(0,e.jsx)(mt.ZP,{theme:{token:{margin:8,marginXL:8,marginXS:8}},children:(0,e.jsx)(de.Z,{image:de.Z.PRESENTED_IMAGE_SIMPLE})}):(0,e.jsxs)(e.Fragment,{children:[s==null||(H=s.resourceDetailConfigMap)===null||H===void 0||(H=H.BASE_INFO)===null||H===void 0?void 0:H.map(function(y,f){return(0,e.jsx)(w.Z.Item,{label:y==null?void 0:y.name,style:$.formItem,children:(0,e.jsx)(ie,{copyable:{text:y.value},style:h()(h()({},$.paragraph),$.paragraphExpanded),ellipsis:{tooltip:y.value},children:y.value})},f)}),s==null||(S=s.resourceDetailConfigMap)===null||S===void 0||(S=S.NETWORK)===null||S===void 0?void 0:S.map(function(y,f){return(0,e.jsx)(w.Z.Item,{label:y==null?void 0:y.name,style:$.formItem,children:(0,e.jsx)(ie,{copyable:{text:y.value},style:h()(h()({},$.paragraph),$.paragraphExpanded),ellipsis:{tooltip:y.value},children:y.value})},f)})]})}),(0,e.jsx)(D.Z,{span:2,children:(0,e.jsxs)(_.ZP,{size:"small",type:"link",target:"_self",href:"/assetManagement/asseConfig?id=".concat(s==null?void 0:s.id),children:[(0,e.jsx)(rt.Z,{}),o.formatMessage({id:"common.button.text.edit"})]})})]})})]})},columnTitle:(0,e.jsx)("div",{style:{width:30,textAlign:"center"}}),columnWidth:30,rowExpandable:function(){return!0},expandIcon:Y.Z}}),(0,e.jsx)(tt,{assetDrawerVisible:se,setAssetDrawerVisible:ve,assetDrawerInfo:U.current,tableActionRef:Q}),(0,e.jsx)(st,{assetInformVisible:r,setAssetInformVisible:d,assetInfo:fe.current})]})},ht=ft},24732:function(q,T){T.Z={polymerizeWrap:"polymerizeWrap___DA0Kx",polymerizeCard:"polymerizeCard___cqy_L",polymerizeHead:"polymerizeHead___wg2jK",polymerizeMain:"polymerizeMain___MABwi",riskWrap:"riskWrap___bmqQb",riskWrapLeft:"riskWrapLeft___IXwxM",riskWrapRight:"riskWrapRight___Kdvj4",riskAsset:"riskAsset___QyUxz",assetMain:"assetMain___cdM5B",newTag:"newTag___MqjNr",assetMainItem:"assetMainItem___m8m8F",assetMainItemLabel:"assetMainItemLabel___xE6cJ",assetView:"assetView____rh3f",assetPageContainer:"assetPageContainer___XCTom",customFilterCard:"customFilterCard___vdglF",customText:"customText___B_t7o",iconWrap:"iconWrap___tQQp4",resourceInstance:"resourceInstance___Y06OO",assetConfigPageContainer:"assetConfigPageContainer___tB7j6",customAssetTable:"customAssetTable___J9RJC",cleanBlock:"cleanBlock___xLiWM",dimBlock:"dimBlock___HBpS1",customField:"customField___J1Iyu",tabProCard:"tabProCard___ahTeu"}}}]);
